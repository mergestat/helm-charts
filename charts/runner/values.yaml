serviceAccount:
  # Specifies whether a ServiceAccount should be created
  enabled: true
  # The name of the ServiceAccount to use.
  # If not set and create is true, a name is generated using the fullname template
  name: runner
  annotations: {}

config:
  githubtoken:
  brokerendpoint:
  runnertoken:

imagePullSecrets:
# - name: "image-pull-secret"

image:
  repository: ergestat/runner:latest
  tag: latest
  pullPolicy: IfNotPresent

## existingsecret: secretname

## runner priorityClassName
##
priorityClassName: ""

## PodDisruptionBudget settings
## ref: https://kubernetes.io/docs/concepts/workloads/pods/disruptions/
##
podDisruptionBudget:
  enabled: false
  maxUnavailable: 1


replicaCount: 1

## Annotations to be added to deployment
##
deploymentAnnotations: {}

## runner resource requests and limits
## Ref: http://kubernetes.io/docs/user-guide/compute-resources/
##
resources: {}
  # limits:
  #   cpu: 10m
  #   memory: 32Mi
  # requests:
  #   cpu: 10m
  #   memory: 32Mi

## Security context to be added to runner pods
##
securityContext:
  runAsUser: 65534
  runAsNonRoot: true
  runAsGroup: 65534
  fsGroup: 65534

serviceMonitor:
  enabled: false
  #  namespace: monitoring
  labels: {}
  interval: 10s
  scrapeTimeout: 10s
  scheme: http
  relabelings: []
  targetLabels: []
  metricRelabelings: []
  sampleLimit: 0

prometheusRule:
  ## The rules will be processed as Helm template, allowing to set variables in them.
  enabled: false
  #  namespace: monitoring
  labels: {}
  rules: []

## Additional runner container arguments
##
extraArgs: {}

## Additional InitContainers to initialize the pod
##
extraInitContainers: []

## Additional runner container environment variable
## For instance to add a http_proxy
##
extraEnv: {}

## Additional runner Secret mounts
# Defines additional mounts with secrets. Secrets must be manually created in the namespace.
extraSecretMounts: []
  # - name: secret-files
  #   mountPath: /etc/secrets
  #   subPath: ""
  #   secretName: runner-secret-files
  #   readOnly: true


## Node tolerations for runner scheduling to nodes with taints
## Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/
##
tolerations: []
  # - key: "key"
  #   operator: "Equal|Exists"
  #   value: "value"
  #   effect: "NoSchedule|PreferNoSchedule|NoExecute(1.6 only)"

## Node labels for runner pod assignment
## Ref: https://kubernetes.io/docs/user-guide/node-selection/
##
nodeSelector: {}

## Pod affinity
##
affinity: {}

emptyDir:
  ## runner emptyDir volume size limit
  ##
  sizeLimit: ""
